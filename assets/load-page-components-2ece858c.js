import{M as g,H as v,C as S}from"./mobile-burger-menu-a2ca4172.js";class w{constructor(){this.init()}init(){this.initIntersectionObserver(),this.initPhilosophyCards(),this.initValueElements(),setTimeout(()=>{const e=document.querySelector(".philosophies");e&&!e.classList.contains("in-viewport")&&e.classList.add("in-viewport");const i=document.querySelector(".values");i&&!i.classList.contains("in-viewport")&&i.classList.add("in-viewport"),document.querySelectorAll(".value .icon").forEach(t=>{t.classList.add("animate"),setTimeout(()=>{t.classList.add("pulse")},500)})},500)}initIntersectionObserver(){const e=[".values",".philosophies"];if(!("IntersectionObserver"in window)){e.forEach(n=>{document.querySelectorAll(n).forEach(s=>{s.classList.add("in-viewport")})});return}const i={root:null,rootMargin:"0px",threshold:.15},t=n=>{n.forEach(s=>{s.isIntersecting&&(s.target.classList.add("in-viewport"),console.log("Element entered viewport:",s.target),o.unobserve(s.target))})},o=new IntersectionObserver(t,i);e.forEach(n=>{document.querySelectorAll(n).forEach(s=>{o.observe(s),console.log("Observing element:",s)})})}initPhilosophyCards(){document.querySelectorAll(".philosophy .flip-button").forEach(e=>{var t;const i=e.cloneNode(!0);(t=e.parentNode)==null||t.replaceChild(i,e)}),document.querySelectorAll(".philosophy").forEach(e=>{e.querySelectorAll(".flip-button").forEach(r=>{r.addEventListener("click",c=>(c.preventDefault(),c.stopPropagation(),e.classList.toggle("flipped"),console.log("Flip button clicked, card flipped state:",e.classList.contains("flipped")),!1),!0)}),e.addEventListener("click",r=>{r.target.closest(".flip-button")});let t=0,o=0;const n=50;e.addEventListener("touchstart",r=>{t=r.touches[0].clientX},!1),e.addEventListener("touchend",r=>{o=r.changedTouches[0].clientX,s()},!1);function s(){const r=o-t;Math.abs(r)>=n&&(r<0&&!e.classList.contains("flipped")||r>0&&e.classList.contains("flipped"))&&e.classList.toggle("flipped")}e.addEventListener("mousemove",r=>{if(e.classList.contains("flipped"))return;const c=e.getBoundingClientRect(),d=c.left+c.width/2,l=c.top+c.height/2,p=r.clientX-d,u=r.clientY-l,a=8,f=p/(c.width/2)*a,h=-(u/(c.height/2))*a;e.style.transform=`perspective(1000px) rotateX(${h}deg) rotateY(${f}deg) translateZ(10px)`}),e.addEventListener("mouseleave",()=>{e.style.transform=""})})}initValueElements(){document.querySelectorAll(".value").forEach(e=>{e.setAttribute("tabindex","0"),e.addEventListener("keydown",t=>{if(t.key==="Enter"||t.key===" "){t.preventDefault();const o=e.getAttribute("aria-expanded")==="true";e.setAttribute("aria-expanded",o?"false":"true");const n=e.querySelector(".tooltip");n&&(o?n.classList.remove("visible"):n.classList.add("visible"))}}),e.setAttribute("aria-expanded","false");const i=e.querySelector(".tooltip");if(i){const t=`tooltip-${Math.random().toString(36).substring(2,9)}`;i.setAttribute("id",t),e.setAttribute("aria-describedby",t),e.setAttribute("role","button")}}),this.initValuesAnimation()}initValuesAnimation(){if(!("IntersectionObserver"in window))return;const e={threshold:.2},i=document.querySelectorAll(".value .icon"),t=new IntersectionObserver(o=>{o.forEach(n=>{if(n.isIntersecting){const s=n.target;s.classList.add("animate"),setTimeout(()=>{s.classList.add("pulse")},500),t.unobserve(s)}})},e);i.forEach(o=>{t.observe(o)})}}class L{init(){this.preloader(),this.heroAnimation(),this.initSlick(),this.checkScrollPosition(),this.initScrollers(),this.initIndustryExpander(),this.initBioViewer(),this.initMobileAccordion(),this.updateDates(),new g().initMobileMenu(),new v(".card"),document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{new w}):new w}initMobileAccordion(){document.addEventListener("click",e=>{const i=e.target,t=i.closest(".dropdown-title");if(console.log("Clicked element:",i),console.log("Found trigger:",t),!t)return;if(window.innerWidth>680){console.log("Ignored - not mobile");return}e.preventDefault(),e.stopPropagation();const o=t.closest(".dropdown-column");console.log("Found column:",o),o&&(document.querySelectorAll(".dropdown-column").forEach(n=>{var s;n!==o&&(n.classList.remove("active"),(s=n.querySelector(".dropdown-title"))==null||s.classList.remove("active"))}),o.classList.toggle("active"),t.classList.toggle("active"),console.log("Toggled active state"))})}preloader(){document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("preloader");e&&setTimeout(function(){e.style.animation="bounce 2s infinite",setTimeout(function(){e.style.display="none"},1500)},700)})}heroAnimation(){const i=document.querySelector(".hero"),t=window.innerWidth>680;!i||!t||i.addEventListener("mousemove",o=>{const n=o.clientX-window.innerWidth/2,s=o.clientY-window.innerHeight/2,r=n/window.innerWidth*10,c=s/window.innerHeight*10;i.style.backgroundPosition=`${50+r}% ${60+c}%`})}initSlick(){$(".logo-slider").slick({slidesToShow:5,slidesToScroll:1,autoplay:!0,speed:3e3,arrows:!1,autoplaySpeed:0,variableWidth:!0,responsive:[{breakpoint:1100,settings:{slidesToShow:4}},{breakpoint:680,settings:{slidesToShow:3}},{breakpoint:580,settings:{slidesToShow:1}}]}),$(".testimonial-slider").slick({dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:5e3,arrows:!0,fade:!0,cssEase:"linear",adaptiveHeight:!0,prevArrow:'<button type="button" class="slick-prev" aria-label="Previous"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 18l-6-6 6-6"/></svg></button>',nextArrow:'<button type="button" class="slick-next" aria-label="Next"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 18l6-6-6-6"/></svg></button>',responsive:[{breakpoint:768,settings:{arrows:!1,dots:!0}}]}),$(".success-stories-slider").slick({slidesToShow:1,slidesToScroll:1,dots:!0,arrows:!0,infinite:!0,autoplay:!0,autoplaySpeed:4e3,fade:!0,cssEase:"linear"})}checkScrollPosition(){let e=!1,i=0,t=0;$(".handle").on("mousedown",o=>{e=!0,i=o.clientY,t=parseInt($(".handle").css("top"))||0,$(".handle").css("cursor","grabbing")}),$(document).on("mousemove",o=>{var n,s;if(e){o.preventDefault();const r=o.clientY-i,c=t+r,d=window.innerHeight,l=d/6/2,p=d,u=Math.min(p,Math.max(l,c));$(".handle").css("top",u);const a=((s=(n=$("#division-sections"))==null?void 0:n.offset())==null?void 0:s.top)||0,f=$("#division-sections").outerHeight()||1,h=(u-l)/(p-l)*f+a;window.scrollTo(0,h)}}),$(document).on("mouseup",()=>{e=!1,$(".handle").css("cursor","grab")}),document.addEventListener("scroll",()=>{var u,a;const o=$(window).scrollTop()||0,n=(a=(u=$("#division-sections"))==null?void 0:u.offset())==null?void 0:a.top,s=$("#division-sections").outerHeight();if(!o||!n||!s)return;const r=n+s-s/6;o>=n&&o<=r?$(".section-progress").addClass("is-visible"):$(".section-progress").removeClass("is-visible");const c=window.innerHeight,d=c/6/2,l=c,p=(o-n)/s*(l-d)+d;$(".handle").css("top",p)})}initScrollers(){this.initIndustryScroller(),this.initCardScroller()}initIndustryScroller(){const e=document.querySelector("#industries .motion-scroller"),i=e==null?void 0:e.querySelector(".viewport");!e||!i||e.addEventListener("mousemove",t=>{const o=t.clientX,n=i.offsetWidth,s=i.scrollWidth,r=o/n*s-n/2;i.scrollLeft=r})}initCardScroller(){const e=document.querySelector(".our-work .motion-scroller"),i=e==null?void 0:e.querySelector(".viewport");if(!e||!i)return;let t=!1,o,n,s=null;const c=(()=>window.innerWidth>2180?850:window.innerWidth>1280?300:window.innerWidth>768?200:100)(),d=150,l=i.querySelector(".content");if(!l)return;const p=a=>{const f=l.getBoundingClientRect(),h=a.clientX;s&&(window.clearInterval(s),s=null),!t&&(h<f.left+c?s=window.setInterval(()=>{l.scrollLeft-=d},1):h>f.right-c&&(s=window.setInterval(()=>{l.scrollLeft+=d},1)))},u=()=>{s&&(window.clearInterval(s),s=null)};l.addEventListener("mousedown",a=>{t=!0,l.style.cursor="grabbing",o=a.pageX-l.offsetLeft,n=l.scrollLeft,u()}),l.addEventListener("mouseleave",()=>{t=!1,l.style.cursor="grab",u()}),l.addEventListener("mouseup",()=>{t=!1,l.style.cursor="grab"}),l.addEventListener("mousemove",a=>{if(t){a.preventDefault();const h=(a.pageX-l.offsetLeft-o)*2;l.scrollLeft=n-h}else p(a)}),l.style.cursor="grab"}initIndustryExpander(){if(window.innerWidth<=640){const e=document.querySelectorAll(".item");e.forEach(i=>{const t=i.querySelector(".title");t&&t.addEventListener("click",o=>{o.preventDefault(),e.forEach(n=>{n==i?n.classList.toggle("open"):n.classList.remove("open")})})})}}updateDates(){const e=new S;e.current(),e.yearsSince()}initBioViewer(){$(document).on("click",".js-bio-more",e=>{const t=$(e.target).closest(".member");if(t.hasClass("is-expanded")){t.removeClass("is-expanded");return}t.addClass("is-expanded")})}}class y{async loadComponents(){const e=document.querySelectorAll("[data-component]");for(const i of e){const t=i.getAttribute("data-component");if(t)try{if(!/^[a-zA-Z0-9-_]+\.html$/.test(t))throw new Error("Invalid component filename");const o=await fetch(`/page-components/${t}`,{credentials:"omit",mode:"same-origin",headers:{Accept:"text/html"}});if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);const n=await o.text(),s=new DOMParser().parseFromString(n,"text/html").body.innerHTML;if(i.innerHTML=s,t==="footer.html"){const r=document.getElementById("current-year");r&&(r.textContent=new Date().getFullYear().toString())}}catch(o){console.error(`Error loading component ${t}:`,o)}}}constructor(){document.addEventListener("DOMContentLoaded",()=>this.loadComponents())}}export{L as A,y as L};
